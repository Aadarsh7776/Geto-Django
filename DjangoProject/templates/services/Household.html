{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Bootstrap Project</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
      <!-- Bootstrap Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">


    <style>
      /* Global Styles */
body,
html {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: Arial, sans-serif;
  background-color: white; /* Black background */
}
#header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 80px;
  background: #000000;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.06);
  position: sticky;
  left: 0;
  z-index: 999;
  top: 0;
}
.logo {
  width: 40px; /* adjust the width to fit the navbar */
  height: 40px; /* adjust the height to fit the navbar */
  margin: 10px;
}

.search {
  display: flex;
  align-items: center;
  margin-right: 0;
}

.search form {
  display: flex;
  margin: 0;
}
.search input {
  padding: 10px;
  border: 1px solid #ddd;
  outline: none;
  border-radius: 5px;
  margin-right: 10px;
  font-size: 16px;
}
.search input:hover {
  border: 1px solid #72a0d4;
}
.search button {
  padding: 10px;
  background-color: #fff;
  border: none;
  border-radius: 5px;
  color: #333;
  font-size: 19px;
  cursor: pointer;
}
.search button:hover {
  background-color: #ccc;
}

#navbar {
  display: flex;
  align-items: center;
  justify-content: center;
}

#navbar li {
  list-style: none;
  padding: 0 20px;
  position: relative;
}

#navbar li a {
  text-decoration: none;
  font-size: 16px;
  font-weight: 600;
  color: white;
  transition: 0.3s ease;
}
#navbar li a:hover,
#navbar li a.active {
  color: white;
}
#navbar li a.active::after,
#navbar li a:hover::after {
  content: "";
  width: 30%;
  height: 2px;
  background: white;
  position: absolute;
  bottom: -4px;
  left: 20px;
}

.card-body .btn {
  background-color: #000000;
}

    </style>
  </head>
  <body>
    <section id="header">
      <a href="#"><img src="{% static 'img/logo2.jpg' %}" class="logo" alt="Logo" /></a>
      <div>
        <ul id="navbar">
          <li><a href="{% url 'home'  %}">Home</a></li>
          <li><a href="{% url 'beauty_services' %}">Beauty</a></li>
          <li><a class="active" href="{% url 'household_services' %}">Household</a></li>
          <div class="search">
            <form onsubmit="return false;">
              <!-- Prevent default form submission -->
              <input
                type="text"
                id="search-input"
                placeholder="Search..."
                onkeyup="filterServices()"
              />
              <button type="submit">Go</button>
            </form>
          </div>
          <li>
            <a href="{% url 'cart' %}"><i class="fa-solid fa-cart-shopping"></i></a>
          </li>
          <li>
            <a href="Account.html"><i class="fa-regular fa-user"></i></a>
          </li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
    </section>

    <section id="HS1" class="container my-4">
      <h1 class="mb-4">Cleaning and Pest Control</h1>
      <div class="row" id="cleaning-service-container"> <!-- Renamed ID -->
        <!-- Card 1 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/Bhk.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Apartment Cleaning</h5>
              <p class="card-text">Price: ₹20</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 2 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/Sofa2.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Sofa Cleaning</h5>
              <p class="card-text">Price: ₹30</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 3 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/kitchen.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Kitchen Pest Control</h5>
              <p class="card-text">Price: ₹25</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 4 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/DT2.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Dining table cleaning</h5>
              <p class="card-text">Price: ₹15</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="HS2" class="container my-4">
      <h1 class="mb-4">Home Maintenance Services</h1>
      <div class="row" id="maintenance-service-container"> <!-- Renamed ID -->
        <!-- Card 1 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/Carprnter.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Carpenter visit</h5>
              <p class="card-text">Price: ₹20</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 2 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/Plumber.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Plumber visit</h5>
              <p class="card-text">Price: ₹30</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 3 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/Electrician.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Electrician visit</h5>
              <p class="card-text">Price: ₹25</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 4 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/fan.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Fan repair</h5>
              <p class="card-text">Price: ₹15</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 5 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/AC .jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">AC service</h5>
              <p class="card-text">Price: ₹25</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 6 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/WM repair.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Washing Machine Repair</h5>
              <p class="card-text">Price: ₹25</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 7 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/TV repair.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">TV repair</h5>
              <p class="card-text">Price: ₹25</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
        <!-- Card 8 -->
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="card" style="width: 100%">
            <img src="{% static 'img/Chimney.jpg' %}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">Chimney repair</h5>
              <p class="card-text">Price: ₹25</p>
                <div class="rating mb-2">
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-fill text-warning"></i>
                    <i class="bi bi-star-half text-warning"></i>
                </div>
              <a href="#" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Add event listeners to all "Add" buttons
        document.querySelectorAll(".btn-dark").forEach((button) => {
          button.addEventListener("click", (event) => {
            event.preventDefault(); // Prevent default anchor behavior

            // Get the details of the service from the card
            const card = event.target.closest(".card");
            const title = card.querySelector(".card-title").innerText;
            const price = card
              .querySelector(".card-text")
              .innerText.replace("Price: ₹", "");
            const imgSrc = card.querySelector(".card-img-top").src;

            // Create a service object
            const service = {
              title,
              price: parseFloat(price),
              imgSrc,
              quantity: 1,
            };

            // Store the service in local storage
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            const existingService = cart.find(
              (item) => item.title === service.title
            );
            if (existingService) {
              existingService.quantity += 1; // Increment quantity if already in cart
            } else {
              cart.push(service); // Add new service to the cart
            }

            localStorage.setItem("cart", JSON.stringify(cart));
            alert(`${service.title} added to cart!`);
          });
        });
      });

      function filterServices() {
    const input = document.getElementById("search-input");
    const filter = input.value.toLowerCase();

    // Apply filter to both sections
    filterContainer("cleaning-service-container", filter);
    filterContainer("maintenance-service-container", filter);
}

function filterServices() {
    const input = document.getElementById("search-input");
    const filter = input.value.toLowerCase();
    console.log("Filtering for:", filter); // Debugging

    filterContainer("cleaning-service-container", filter);
    filterContainer("maintenance-service-container", filter);
}

function filterContainer(containerId, filter) {
    const serviceContainer = document.getElementById(containerId);
    
    if (!serviceContainer) {
        console.log(`Container with ID '${containerId}' not found`); // Debugging
        return;
    }

    const cards = serviceContainer.getElementsByClassName("card");
    console.log(`Filtering in ${containerId}, Found ${cards.length} cards`); // Debugging

    for (let i = 0; i < cards.length; i++) {
        const title = cards[i].querySelector(".card-title").innerText.toLowerCase();
        const price = cards[i].querySelector(".card-text").innerText.toLowerCase();

        if (title.includes(filter) || price.includes(filter)) {
            cards[i].parentNode.style.display = "";
        } else {
            cards[i].parentNode.style.display = "none";
        }
    }
}



    </script>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
